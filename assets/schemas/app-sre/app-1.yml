---
"$schema": /metaschema-1.json
version: '1.0'
type: object

additionalProperties: false
properties:
  "$schema":
    type: string
    enum:
    - /app-sre/app-1.yml
  labels:
    "$ref": "/common-1.json#/definitions/labels"
  name:
    type: string
  description:
    type: string
  serviceOwner:
    description: Team or individual who is/are responsible for the running instance of the software.
    type: object
    additionalProperties: false
    properties:
      name:
        type: string
      email:
        type: string
        format: email
    required:
    - name
    - email

  performanceParameters:
    type: object
    additionalProperties: false
    properties:
      SLO:
        "$ref": "/common-1.json#/definitions/serviceLevel"
      SLA:
        "$ref": "/common-1.json#/definitions/serviceLevel"
      statusPage:
        type: string
        format: uri-reference
    required:
    - SLO

  codeRepositories:
    type: array
    items:
      type: object
      additionalProperties: false
      properties:
        url:
          type: string
          format: uri-reference
        description:
          type: string
      required:
      - url
      - description

  dependencies:
    type: array
    items:
      "$ref": "/common-1.json#/definitions/crossref"
      "$schemaRef": "/dependencies/service-1.yml"

  quayRepos:
    type: array
    items:
      type: object
      additionalProperties: false
      properties:
        org:
          "$ref": "/common-1.json#/definitions/crossref"
          "$schemaRef": "/dependencies/quay-org-1.yml"
        items:
          type: array
          items:
            type: object
            additionalProperties: false
            properties:
              name:
                type: string
              description:
                type: string
              public:
                type: boolean
            required:
            - name
            - description
            - public
      required:
      - org
      - items

required:
- $schema
- labels
- name
- description
- serviceOwner
- performanceParameters
- codeRepositories
